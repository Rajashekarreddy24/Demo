import { ChangeDetectionStrategy, Component, EventEmitter, HostListener, Input, Output, ViewChild, ViewChildren, } from '@angular/core';
import { Event } from '../..';
import { StyleService } from '../../services/style.service';
import { moveItemInArray } from '@angular/cdk/drag-drop';
import * as i0 from "@angular/core";
import * as i1 from "../../services/style.service";
import * as i2 from "@angular/common";
import * as i3 from "@angular/cdk/drag-drop";
import * as i4 from "../header/header.component";
export class TableTHeadComponent {
    onClick(targetElement) {
        if (this.additionalActionMenu &&
            !this.additionalActionMenu.nativeElement.contains(targetElement)) {
            this.menuActive = false;
        }
        // if click outside the header then close opened Header Action Template
        if (this.openedHeaderActionTemplate &&
            // if no header have the clicked point
            !this.headerDropdown.toArray().some((ref) => ref.nativeElement.contains(targetElement))) {
            this.openedHeaderActionTemplate = null;
        }
    }
    constructor(styleService) {
        this.styleService = styleService;
        this.menuActive = false;
        this.openedHeaderActionTemplate = null;
        this.onSelectAllBinded = this.onSelectAll.bind(this);
        this.filter = new EventEmitter();
        this.order = new EventEmitter();
        this.selectAll = new EventEmitter();
        this.event = new EventEmitter();
    }
    getColumnDefinition(column) {
        return column.searchEnabled || typeof column.searchEnabled === 'undefined';
    }
    orderBy(column) {
        this.order.emit(column);
    }
    isOrderEnabled(column) {
        const columnOrderEnabled = column.orderEnabled === undefined ? true : !!column.orderEnabled;
        return this.config.orderEnabled && columnOrderEnabled;
    }
    columnDrop(event) {
        moveItemInArray(this.columns, event.previousIndex, event.currentIndex);
    }
    onSearch($event) {
        this.filter.emit($event);
    }
    getColumnWidth(column) {
        if (column.width) {
            return column.width;
        }
        return this.config.fixedColumnWidth ? 100 / this.columns.length + '%' : null;
    }
    onSelectAll() {
        this.selectAll.emit();
    }
    onMouseDown(event, th) {
        if (!this.config.resizeColumn) {
            return;
        }
        this.th = th;
        this.startOffset = th.offsetWidth - event.pageX;
        this.event.emit({
            event: Event.onColumnResizeMouseDown,
            value: event,
        });
    }
    onMouseMove(event) {
        if (!this.config.resizeColumn) {
            return;
        }
        if (this.th && this.th.style) {
            this.th.style.width = this.startOffset + event.pageX + 'px';
            this.th.style.cursor = 'col-resize';
            this.th.style['user-select'] = 'none';
        }
    }
    onMouseUp(event) {
        if (!this.config.resizeColumn) {
            return;
        }
        this.event.emit({
            event: Event.onColumnResizeMouseUp,
            value: event,
        });
        this.th.style.cursor = 'default';
        this.th = undefined;
    }
    showHeaderActionTemplateMenu(column) {
        if (!column.headerActionTemplate) {
            console.error('Column [headerActionTemplate] property not defined');
        }
        if (this.openedHeaderActionTemplate === column.key) {
            this.openedHeaderActionTemplate = null;
            return;
        }
        this.openedHeaderActionTemplate = column.key;
    }
    showMenu() {
        if (!this.additionalActionsTemplate) {
            console.error('[additionalActionsTemplate] property not defined');
        }
        this.menuActive = !this.menuActive;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.2.2", ngImport: i0, type: TableTHeadComponent, deps: [{ token: i1.StyleService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.2.2", type: TableTHeadComponent, selector: "[table-thead]", inputs: { config: "config", columns: "columns", sortKey: "sortKey", sortState: "sortState", selectAllTemplate: "selectAllTemplate", filtersTemplate: "filtersTemplate", additionalActionsTemplate: "additionalActionsTemplate" }, outputs: { filter: "filter", order: "order", selectAll: "selectAll", event: "event" }, host: { listeners: { "document:click": "onClick($event.target)" } }, providers: [StyleService], viewQueries: [{ propertyName: "th", first: true, predicate: ["th"], descendants: true }, { propertyName: "additionalActionMenu", first: true, predicate: ["additionalActionMenu"], descendants: true }, { propertyName: "headerDropdown", predicate: ["headerDropdown"], descendants: true }], ngImport: i0, template: "<tr class=\"ngx-table__header\" *ngIf=\"config.headerEnabled && !config.columnReorder\">\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxes\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckbox\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  class=\"ngx-table__header ngx-table__header--draggable\"\n  *ngIf=\"config.headerEnabled && config.columnReorder\"\n  cdkDropList\n  cdkDropListOrientation=\"horizontal\"\n  (cdkDropListDropped)=\"columnDrop($event)\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxesDrag\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckboxDrag\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell ngx-table__header-cell--draggable\"\n      cdkDragLockAxis=\"x\"\n      cdkDrag\n      [cdkDragStartDelay]=\"config.reorderDelay || 0\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        cdkDragHandle\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  [style.display]=\"config.searchEnabled && !filtersTemplate ? 'table-row' : 'none'\"\n  class=\"ngx-table__search-header\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\"></th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index\">\n    <th\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [class.pinned-left]=\"column.pinned\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n    >\n      <table-header\n        *ngIf=\"getColumnDefinition(column)\"\n        (update)=\"onSearch($event)\"\n        [column]=\"column\"\n      >\n      </table-header>\n    </th>\n  </ng-container>\n  <th *ngIf=\"config.additionalActions || config.detailsTemplate\"></th>\n</tr>\n<ng-container *ngIf=\"filtersTemplate\">\n  <tr>\n    <ng-container [ngTemplateOutlet]=\"filtersTemplate\"> </ng-container>\n  </tr>\n</ng-container>\n", styles: [".cdk-drag-preview{text-align:left;padding-top:9px;padding-left:4px;color:#50596c;border:1px solid #e7e9ed}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i3.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "directive", type: i3.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { kind: "directive", type: i3.CdkDragHandle, selector: "[cdkDragHandle]", inputs: ["cdkDragHandleDisabled"] }, { kind: "component", type: i4.HeaderComponent, selector: "table-header", inputs: ["column"], outputs: ["update"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.2.2", ngImport: i0, type: TableTHeadComponent, decorators: [{
            type: Component,
            args: [{ selector: '[table-thead]', changeDetection: ChangeDetectionStrategy.OnPush, providers: [StyleService], template: "<tr class=\"ngx-table__header\" *ngIf=\"config.headerEnabled && !config.columnReorder\">\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxes\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckbox\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  class=\"ngx-table__header ngx-table__header--draggable\"\n  *ngIf=\"config.headerEnabled && config.columnReorder\"\n  cdkDropList\n  cdkDropListOrientation=\"horizontal\"\n  (cdkDropListDropped)=\"columnDrop($event)\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxesDrag\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckboxDrag\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell ngx-table__header-cell--draggable\"\n      cdkDragLockAxis=\"x\"\n      cdkDrag\n      [cdkDragStartDelay]=\"config.reorderDelay || 0\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        cdkDragHandle\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  [style.display]=\"config.searchEnabled && !filtersTemplate ? 'table-row' : 'none'\"\n  class=\"ngx-table__search-header\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\"></th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index\">\n    <th\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [class.pinned-left]=\"column.pinned\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n    >\n      <table-header\n        *ngIf=\"getColumnDefinition(column)\"\n        (update)=\"onSearch($event)\"\n        [column]=\"column\"\n      >\n      </table-header>\n    </th>\n  </ng-container>\n  <th *ngIf=\"config.additionalActions || config.detailsTemplate\"></th>\n</tr>\n<ng-container *ngIf=\"filtersTemplate\">\n  <tr>\n    <ng-container [ngTemplateOutlet]=\"filtersTemplate\"> </ng-container>\n  </tr>\n</ng-container>\n", styles: [".cdk-drag-preview{text-align:left;padding-top:9px;padding-left:4px;color:#50596c;border:1px solid #e7e9ed}\n"] }]
        }], ctorParameters: () => [{ type: i1.StyleService }], propDecorators: { config: [{
                type: Input
            }], columns: [{
                type: Input
            }], sortKey: [{
                type: Input
            }], sortState: [{
                type: Input
            }], selectAllTemplate: [{
                type: Input
            }], filtersTemplate: [{
                type: Input
            }], additionalActionsTemplate: [{
                type: Input
            }], filter: [{
                type: Output
            }], order: [{
                type: Output
            }], selectAll: [{
                type: Output
            }], event: [{
                type: Output
            }], th: [{
                type: ViewChild,
                args: ['th']
            }], headerDropdown: [{
                type: ViewChildren,
                args: ['headerDropdown']
            }], additionalActionMenu: [{
                type: ViewChild,
                args: ['additionalActionMenu']
            }], onClick: [{
                type: HostListener,
                args: ['document:click', ['$event.target']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlYWQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWVhc3ktdGFibGUvc3JjL2xpYi9jb21wb25lbnRzL3RoZWFkL3RoZWFkLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1lYXN5LXRhYmxlL3NyYy9saWIvY29tcG9uZW50cy90aGVhZC90aGVhZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBRU4sU0FBUyxFQUNULFlBQVksR0FDYixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQW1CLEtBQUssRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUMvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDNUQsT0FBTyxFQUFlLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDOzs7Ozs7QUFtQnRFLE1BQU0sT0FBTyxtQkFBbUI7SUFxQnZCLE9BQU8sQ0FBQyxhQUFrQjtRQUMvQixJQUNFLElBQUksQ0FBQyxvQkFBb0I7WUFDekIsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFDaEU7WUFDQSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztTQUN6QjtRQUVELHVFQUF1RTtRQUN2RSxJQUNFLElBQUksQ0FBQywwQkFBMEI7WUFDL0Isc0NBQXNDO1lBQ3RDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQ3ZGO1lBQ0EsSUFBSSxDQUFD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Qi9CLFNBQVM7K0JBQ0UsZUFBZSxtQkFhUix1QkFBdUIsQ0FBQyxNQUFNLGFBQ3BDLENBQUMsWUFBWSxDQUFDO2lGQVFoQixNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNHLE9BQU87c0JBQWYsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQUNHLGlCQUFpQjtzQkFBekIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLHlCQUF5QjtzQkFBakMsS0FBSztnQkFDYSxNQUFNO3NCQUF4QixNQUFNO2dCQUNZLEtBQUs7c0JBQXZCLE1BQU07Z0JBQ1ksU0FBUztzQkFBM0IsTUFBTTtnQkFDWSxLQUFLO3NCQUF2QixNQUFNO2dCQUNrQixFQUFFO3NCQUExQixTQUFTO3VCQUFDLElBQUk7Z0JBQ2lCLGNBQWM7c0JBQTdDLFlBQVk7dUJBQUMsZ0JBQWdCO2dCQUNLLG9CQUFvQjtzQkFBdEQsU0FBUzt1QkFBQyxzQkFBc0I7Z0JBRTFCLE9BQU87c0JBRGIsWUFBWTt1QkFBQyxnQkFBZ0IsRUFBRSxDQUFDLGVBQWUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW4sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29sdW1ucywgQ29uZmlnLCBFdmVudCB9IGZyb20gJy4uLy4uJztcbmltcG9ydCB7IFN0eWxlU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3N0eWxlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2RrRHJhZ0Ryb3AsIG1vdmVJdGVtSW5BcnJheSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9kcmFnLWRyb3AnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdbdGFibGUtdGhlYWRdJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RoZWFkLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVzOiBbXG4gICAgYFxuICAgICAgLmNkay1kcmFnLXByZXZpZXcge1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBwYWRkaW5nLXRvcDogOXB4O1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDRweDtcbiAgICAgICAgY29sb3I6ICM1MDU5NmM7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlN2U5ZWQ7XG4gICAgICB9XG4gICAgYCxcbiAgXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1N0eWxlU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIFRhYmxlVEhlYWRDb21wb25lbnQge1xuICBwdWJsaWMgbWVudUFjdGl2ZSA9IGZhbHNlO1xuICBwdWJsaWMgb3BlbmVkSGVhZGVyQWN0aW9uVGVtcGxhdGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgc3RhcnRPZmZzZXQ7XG4gIHB1YmxpYyBvblNlbGVjdEFsbEJpbmRlZCA9IHRoaXMub25TZWxlY3RBbGwuYmluZCh0aGlzKTtcblxuICBASW5wdXQoKSBjb25maWc6IENvbmZpZztcbiAgQElucHV0KCkgY29sdW1uczogQ29sdW1uc1tdO1xuICBASW5wdXQoKSBzb3J0S2V5O1xuICBASW5wdXQoKSBzb3J0U3RhdGU7XG4gIEBJbnB1dCgpIHNlbGVjdEFsbFRlbXBsYXRlO1xuICBASW5wdXQoKSBmaWx0ZXJzVGVtcGxhdGU7XG4gIEBJbnB1dCgpIGFkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGU6IFRlbXBsYXRlUmVmPHZvaWQ+O1xuICBAT3V0cHV0KCkgcmVhZG9ubHkgZmlsdGVyID0gbmV3IEV2ZW50RW1pdHRlcjxBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+PigpO1xuICBAT3V0cHV0KCkgcmVhZG9ubHkgb3JkZXIgPSBuZXcgRXZlbnRFbWl0dGVyPENvbHVtbnM+KCk7XG4gIEBPdXRwdXQoKSByZWFkb25seSBzZWxlY3RBbGwgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSByZWFkb25seSBldmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8eyBldmVudDogc3RyaW5nOyB2YWx1ZTogYW55IH0+KCk7XG4gIEBWaWV3Q2hpbGQoJ3RoJykgcHJpdmF0ZSB0aDtcbiAgQFZpZXdDaGlsZHJlbignaGVhZGVyRHJvcGRvd24nKSBoZWFkZXJEcm9wZG93bjtcbiAgQFZpZXdDaGlsZCgnYWRkaXRpb25hbEFjdGlvbk1lbnUnKSBhZGRpdGlvbmFsQWN0aW9uTWVudTtcbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6Y2xpY2snLCBbJyRldmVudC50YXJnZXQnXSlcbiAgcHVibGljIG9uQ2xpY2sodGFyZ2V0RWxlbWVudDogYW55KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5hZGRpdGlvbmFsQWN0aW9uTWVudSAmJlxuICAgICAgIXRoaXMuYWRkaXRpb25hbEFjdGlvbk1lbnUubmF0aXZlRWxlbWVudC5jb250YWlucyh0YXJnZXRFbGVtZW50KVxuICAgICkge1xuICAgICAgdGhpcy5tZW51QWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gaWYgY2xpY2sgb3V0c2lkZSB0aGUgaGVhZGVyIHRoZW4gY2xvc2Ugb3BlbmVkIEhlYWRlciBBY3Rpb24gVGVtcGxhdGVcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlICYmXG4gICAgICAvLyBpZiBubyBoZWFkZXIgaGF2ZSB0aGUgY2xpY2tlZCBwb2ludFxuICAgICAgIXRoaXMuaGVhZGVyRHJvcGRvd24udG9BcnJheSgpLnNvbWUoKHJlZikgPT4gcmVmLm5hdGl2ZUVsZW1lbnQuY29udGFpbnModGFyZ2V0RWxlbWVudCkpXG4gICAgKSB7XG4gICAgICB0aGlzLm9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc3R5bGVTZXJ2aWNlOiBTdHlsZVNlcnZpY2UpIHt9XG5cbiAgZ2V0Q29sdW1uRGVmaW5pdGlvbihjb2x1bW46IENvbHVtbnMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gY29sdW1uLnNlYXJjaEVuYWJsZWQgfHwgdHlwZW9mIGNvbHVtbi5zZWFyY2hFbmFibGVkID09PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIG9yZGVyQnkoY29sdW1uOiBDb2x1bW5zKTogdm9pZCB7XG4gICAgdGhpcy5vcmRlci5lbWl0KGNvbHVtbik7XG4gIH1cblxuICBpc09yZGVyRW5hYmxlZChjb2x1bW46IENvbHVtbnMpOiBib29sZWFuIHtcbiAgICBjb25zdCBjb2x1bW5PcmRlckVuYWJsZWQgPSBjb2x1bW4ub3JkZXJFbmFibGVkID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFjb2x1bW4ub3JkZXJFbmFibGVkO1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5vcmRlckVuYWJsZWQgJiYgY29sdW1uT3JkZXJFbmFibGVkO1xuICB9XG5cbiAgY29sdW1uRHJvcChldmVudDogQ2RrRHJhZ0Ryb3A8c3RyaW5nW10+KTogdm9pZCB7XG4gICAgbW92ZUl0ZW1JbkFycmF5KHRoaXMuY29sdW1ucywgZXZlbnQucHJldmlvdXNJbmRleCwgZXZlbnQuY3VycmVudEluZGV4KTtcbiAgfVxuXG4gIG9uU2VhcmNoKCRldmVudDogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pik6IHZvaWQge1xuICAgIHRoaXMuZmlsdGVyLmVtaXQoJGV2ZW50KTtcbiAgfVxuXG4gIGdldENvbHVtbldpZHRoKGNvbHVtbjogYW55KTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKGNvbHVtbi53aWR0aCkge1xuICAgICAgcmV0dXJuIGNvbHVtbi53aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmZpeGVkQ29sdW1uV2lkdGggPyAxMDAgLyB0aGlzLmNvbHVtbnMubGVuZ3RoICsgJyUnIDogbnVsbDtcbiAgfVxuXG4gIG9uU2VsZWN0QWxsKCk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0QWxsLmVtaXQoKTtcbiAgfVxuXG4gIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50LCB0aDogSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnJlc2l6ZUNvbHVtbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRoID0gdGg7XG4gICAgdGhpcy5zdGFydE9mZnNldCA9IHRoLm9mZnNldFdpZHRoIC0gZXZlbnQucGFnZVg7XG4gICAgdGhpcy5ldmVudC5lbWl0KHtcbiAgICAgIGV2ZW50OiBFdmVudC5vbkNvbHVtblJlc2l6ZU1vdXNlRG93bixcbiAgICAgIHZhbHVlOiBldmVudCxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5yZXNpemVDb2x1bW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGggJiYgdGhpcy50aC5zdHlsZSkge1xuICAgICAgdGhpcy50aC5zdHlsZS53aWR0aCA9IHRoaXMuc3RhcnRPZmZzZXQgKyBldmVudC5wYWdlWCArICdweCc7XG4gICAgICB0aGlzLnRoLnN0eWxlLmN1cnNvciA9ICdjb2wtcmVzaXplJztcbiAgICAgIHRoaXMudGguc3R5bGVbJ3VzZXItc2VsZWN0J10gPSAnbm9uZSc7XG4gICAgfVxuICB9XG5cbiAgb25Nb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5yZXNpemVDb2x1bW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ldmVudC5lbWl0KHtcbiAgICAgIGV2ZW50OiBFdmVudC5vbkNvbHVtblJlc2l6ZU1vdXNlVXAsXG4gICAgICB2YWx1ZTogZXZlbnQsXG4gICAgfSk7XG4gICAgdGhpcy50aC5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgdGhpcy50aCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHNob3dIZWFkZXJBY3Rpb25UZW1wbGF0ZU1lbnUoY29sdW1uOiBDb2x1bW5zKTogdm9pZCB7XG4gICAgaWYgKCFjb2x1bW4uaGVhZGVyQWN0aW9uVGVtcGxhdGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbHVtbiBbaGVhZGVyQWN0aW9uVGVtcGxhdGVdIHByb3BlcnR5IG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlID09PSBjb2x1bW4ua2V5KSB7XG4gICAgICB0aGlzLm9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5vcGVuZWRIZWFkZXJBY3Rpb25UZW1wbGF0ZSA9IGNvbHVtbi5rZXk7XG4gIH1cblxuICBzaG93TWVudSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYWRkaXRpb25hbEFjdGlvbnNUZW1wbGF0ZSkge1xuICAgICAgY29uc29sZS5lcnJvcignW2FkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGVdIHByb3BlcnR5IG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMubWVudUFjdGl2ZSA9ICF0aGlzLm1lbnVBY3RpdmU7XG4gIH1cbn1cbiIsIjx0ciBjbGFzcz1cIm5neC10YWJsZV9faGVhZGVyXCIgKm5nSWY9XCJjb25maWcuaGVhZGVyRW5hYmxlZCAmJiAhY29uZmlnLmNvbHVtblJlb3JkZXJcIj5cbiAgPHRoICpuZ0lmPVwiY29uZmlnLmNoZWNrYm94ZXMgfHwgY29uZmlnLnJhZGlvXCIgW3N0eWxlLndpZHRoXT1cIiczJSdcIj5cbiAgICA8bmctY29udGFpbmVyXG4gICAgICAqbmdJZj1cInNlbGVjdEFsbFRlbXBsYXRlICYmIGNvbmZpZy5jaGVja2JveGVzXCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInNlbGVjdEFsbFRlbXBsYXRlXCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogb25TZWxlY3RBbGxCaW5kZWQgfVwiXG4gICAgPlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDxsYWJlbFxuICAgICAgY2xhc3M9XCJuZ3gtZm9ybS1jaGVja2JveFwiXG4gICAgICBmb3I9XCJzZWxlY3RBbGxDaGVja2JveGVzXCJcbiAgICAgICpuZ0lmPVwiIXNlbGVjdEFsbFRlbXBsYXRlICYmIGNvbmZpZy5jaGVja2JveGVzXCJcbiAgICA+XG4gICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzZWxlY3RBbGxDaGVja2JveGVzXCIgKGNoYW5nZSk9XCJvblNlbGVjdEFsbCgpXCIgLz5cbiAgICAgIDxlbSBjbGFzcz1cIm5neC1mb3JtLWljb25cIiBpZD1cInNlbGVjdEFsbENoZWNrYm94XCI+PC9lbT5cbiAgICA8L2xhYmVsPlxuICA8L3RoPlxuICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uczsgbGV0IGNvbEluZGV4ID0gaW5kZXg7IGxldCBsYXN0ID0gbGFzdFwiPlxuICAgIDx0aFxuICAgICAgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlci1jZWxsXCJcbiAgICAgIFtjbGFzcy5waW5uZWQtbGVmdF09XCJjb2x1bW4ucGlubmVkXCJcbiAgICAgIFtuZ0NsYXNzXT1cImNvbHVtbi5jc3NDbGFzcyAmJiBjb2x1bW4uY3NzQ2xhc3MuaW5jbHVkZUhlYWRlciA/IGNvbHVtbi5jc3NDbGFzcy5uYW1lIDogJydcIlxuICAgICAgW3N0eWxlLmxlZnRdPVwic3R5bGVTZXJ2aWNlLnBpbm5lZFdpZHRoKGNvbHVtbi5waW5uZWQsIGNvbEluZGV4KVwiXG4gICAgICAjdGhcbiAgICAgIFtzdHlsZS53aWR0aF09XCJnZXRDb2x1bW5XaWR0aChjb2x1bW4pXCJcbiAgICAgIChtb3VzZWRvd24pPVwib25Nb3VzZURvd24oJGV2ZW50LCB0aClcIlxuICAgICAgKG1vdXNldXApPVwib25Nb3VzZVVwKCRldmVudClcIlxuICAgICAgKG1vdXNlbW92ZSk9XCJvbk1vdXNlTW92ZSgkZXZlbnQpXCJcbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIChjbGljayk9XCJvcmRlckJ5KGNvbHVtbilcIlxuICAgICAgICBzdHlsZT1cImRpc3BsYXk6IGlubGluZVwiXG4gICAgICAgIFtjbGFzcy5wb2ludGVyXT1cImlzT3JkZXJFbmFibGVkKGNvbHVtbilcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXItdGl0bGVcIj5cbiAgICAgICAgICB7eyBjb2x1bW4udGl0bGUgfX08c3Bhbj4mbmJzcDs8L3NwYW4+XG4gICAgICAgICAgPGVtIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tcGluXCIgKm5nSWY9XCJjb2x1bW4ucGlubmVkXCI+PC9lbT5cbiAgICAgICAgICA8ZGl2IFtzdHlsZS5kaXNwbGF5XT1cImNvbmZpZy5vcmRlckVuYWJsZWQgPyAnaW5saW5lJyA6ICdub25lJ1wiPlxuICAgICAgICAgICAgPGVtXG4gICAgICAgICAgICAgICpuZ0lmPVwic29ydEtleSA9PT0gY29sdW1uLmtleSAmJiB0aGlzLnNvcnRTdGF0ZS5nZXQoc29ydEtleSkgPT09ICdhc2MnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1hcnJvdy11cFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2VtPlxuICAgICAgICAgICAgPGVtXG4gICAgICAgICAgICAgICpuZ0lmPVwic29ydEtleSA9PT0gY29sdW1uLmtleSAmJiB0aGlzLnNvcnRTdGF0ZS5nZXQoc29ydEtleSkgPT09ICdkZXNjJ1wiXG4gICAgICAgICAgICAgIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tYXJyb3ctZG93blwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2VtPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5neC1kcm9wZG93blwiICpuZ0lmPVwiISFjb2x1bW4uaGVhZGVyQWN0aW9uVGVtcGxhdGVcIiAjaGVhZGVyRHJvcGRvd24+XG4gICAgICAgIDxhIGNsYXNzPVwibmd4LWJ0biBuZ3gtYnRuLWxpbmtcIiAoY2xpY2spPVwic2hvd0hlYWRlckFjdGlvblRlbXBsYXRlTWVudShjb2x1bW4pXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1tb3JlXCI+PC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cIm5neC1tZW51IG5neC10YWJsZV9fdGFibGUtbWVudVwiXG4gICAgICAgICAgKm5nSWY9XCJjb2x1bW4ua2V5ID09PSBvcGVuZWRIZWFkZXJBY3Rpb25UZW1wbGF0ZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImNvbHVtbi5oZWFkZXJBY3Rpb25UZW1wbGF0ZVwiPiA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZ3gtdGFibGVfX2NvbHVtbi1yZXNpemVyXCIgKm5nSWY9XCJjb25maWcucmVzaXplQ29sdW1uICYmICFsYXN0XCI+PC9kaXY+XG4gICAgPC90aD5cbiAgPC9uZy1jb250YWluZXI+XG4gIDx0aFxuICAgICpuZ0lmPVwiXG4gICAgICBjb25maWcuYWRkaXRpb25hbEFjdGlvbnMgfHxcbiAgICAgIGNvbmZpZy5kZXRhaWxzVGVtcGxhdGUgfHxcbiAgICAgIGNvbmZpZy5jb2xsYXBzZUFsbFJvd3MgfHxcbiAgICAgIGNvbmZpZy5ncm91cFJvd3NcbiAgICBcIlxuICAgIGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXItY2VsbC1hZGRpdGlvbmFsLWFjdGlvbnNcIlxuICA+XG4gICAgPGRpdiBjbGFzcz1cIm5neC1kcm9wZG93blwiICNhZGRpdGlvbmFsQWN0aW9uTWVudSAqbmdJZj1cImNvbmZpZy5hZGRpdGlvbmFsQWN0aW9uc1wiPlxuICAgICAgPGEgY2xhc3M9XCJuZ3gtYnRuIG5neC1idG4tbGlua1wiIChjbGljayk9XCJzaG93TWVudSgpXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tbWVudVwiPjwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICAgIDx1bCBjbGFzcz1cIm5neC1tZW51IG5neC10YWJsZV9fdGFibGUtbWVudVwiICpuZ0lmPVwibWVudUFjdGl2ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgKm5nSWY9XCJhZGRpdGlvbmFsQWN0aW9uc1RlbXBsYXRlXCJcbiAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJhZGRpdGlvbmFsQWN0aW9uc1RlbXBsYXRlXCJcbiAgICAgICAgPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIDwvdGg+XG48L3RyPlxuPHRyXG4gIGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXIgbmd4LXRhYmxlX19oZWFkZXItLWRyYWdnYWJsZVwiXG4gICpuZ0lmPVwiY29uZmlnLmhlYWRlckVuYWJsZWQgJiYgY29uZmlnLmNvbHVtblJlb3JkZXJcIlxuICBjZGtEcm9wTGlzdFxuICBjZGtEcm9wTGlzdE9yaWVudGF0aW9uPVwiaG9yaXpvbnRhbFwiXG4gIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiY29sdW1uRHJvcCgkZXZlbnQpXCJcbj5cbiAgPHRoICpuZ0lmPVwiY29uZmlnLmNoZWNrYm94ZXMgfHwgY29uZmlnLnJhZGlvXCIgW3N0eWxlLndpZHRoXT1cIiczJSdcIj5cbiAgICA8bmctY29udGFpbmVyXG4gICAgICAqbmdJZj1cInNlbGVjdEFsbFRlbXBsYXRlICYmIGNvbmZpZy5jaGVja2JveGVzXCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInNlbGVjdEFsbFRlbXBsYXRlXCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogb25TZWxlY3RBbGxCaW5kZWQgfVwiXG4gICAgPlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDxsYWJlbFxuICAgICAgY2xhc3M9XCJuZ3gtZm9ybS1jaGVja2JveFwiXG4gICAgICBmb3I9XCJzZWxlY3RBbGxDaGVja2JveGVzXCJcbiAgICAgICpuZ0lmPVwiIXNlbGVjdEFsbFRlbXBsYXRlICYmIGNvbmZpZy5jaGVja2JveGVzXCJcbiAgICA+XG4gICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJzZWxlY3RBbGxDaGVja2JveGVzRHJhZ1wiIChjaGFuZ2UpPVwib25TZWxlY3RBbGwoKVwiIC8+XG4gICAgICA8ZW0gY2xhc3M9XCJuZ3gtZm9ybS1pY29uXCIgaWQ9XCJzZWxlY3RBbGxDaGVja2JveERyYWdcIj48L2VtPlxuICAgIDwvbGFiZWw+XG4gIDwvdGg+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zOyBsZXQgY29sSW5kZXggPSBpbmRleDsgbGV0IGxhc3QgPSBsYXN0XCI+XG4gICAgPHRoXG4gICAgICBjbGFzcz1cIm5neC10YWJsZV9faGVhZGVyLWNlbGwgbmd4LXRhYmxlX19oZWFkZXItY2VsbC0tZHJhZ2dhYmxlXCJcbiAgICAgIGNka0RyYWdMb2NrQXhpcz1cInhcIlxuICAgICAgY2RrRHJhZ1xuICAgICAgW2Nka0RyYWdTdGFydERlbGF5XT1cImNvbmZpZy5yZW9yZGVyRGVsYXkgfHwgMFwiXG4gICAgICBbY2xhc3MucGlubmVkLWxlZnRdPVwiY29sdW1uLnBpbm5lZFwiXG4gICAgICBbbmdDbGFzc109XCJjb2x1bW4uY3NzQ2xhc3MgJiYgY29sdW1uLmNzc0NsYXNzLmluY2x1ZGVIZWFkZXIgPyBjb2x1bW4uY3NzQ2xhc3MubmFtZSA6ICcnXCJcbiAgICAgIFtzdHlsZS5sZWZ0XT1cInN0eWxlU2VydmljZS5waW5uZWRXaWR0aChjb2x1bW4ucGlubmVkLCBjb2xJbmRleClcIlxuICAgICAgI3RoXG4gICAgICBbc3R5bGUud2lkdGhdPVwiZ2V0Q29sdW1uV2lkdGgoY29sdW1uKVwiXG4gICAgICAobW91c2Vkb3duKT1cIm9uTW91c2VEb3duKCRldmVudCwgdGgpXCJcbiAgICAgIChtb3VzZXVwKT1cIm9uTW91c2VVcCgkZXZlbnQpXCJcbiAgICAgIChtb3VzZW1vdmUpPVwib25Nb3VzZU1vdmUoJGV2ZW50KVwiXG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICAoY2xpY2spPVwib3JkZXJCeShjb2x1bW4pXCJcbiAgICAgICAgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmVcIlxuICAgICAgICBjZGtEcmFnSGFuZGxlXG4gICAgICAgIFtjbGFzcy5wb2ludGVyXT1cImlzT3JkZXJFbmFibGVkKGNvbHVtbilcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXItdGl0bGVcIj5cbiAgICAgICAgICB7eyBjb2x1bW4udGl0bGUgfX08c3Bhbj4mbmJzcDs8L3NwYW4+XG4gICAgICAgICAgPGVtIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tcGluXCIgKm5nSWY9XCJjb2x1bW4ucGlubmVkXCI+PC9lbT5cbiAgICAgICAgICA8ZGl2IFtzdHlsZS5kaXNwbGF5XT1cImNvbmZpZy5vcmRlckVuYWJsZWQgPyAnaW5saW5lJyA6ICdub25lJ1wiPlxuICAgICAgICAgICAgPGVtXG4gICAgICAgICAgICAgICpuZ0lmPVwic29ydEtleSA9PT0gY29sdW1uLmtleSAmJiB0aGlzLnNvcnRTdGF0ZS5nZXQoc29ydEtleSkgPT09ICdhc2MnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1hcnJvdy11cFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2VtPlxuICAgICAgICAgICAgPGVtXG4gICAgICAgICAgICAgICpuZ0lmPVwic29ydEtleSA9PT0gY29sdW1uLmtleSAmJiB0aGlzLnNvcnRTdGF0ZS5nZXQoc29ydEtleSkgPT09ICdkZXNjJ1wiXG4gICAgICAgICAgICAgIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tYXJyb3ctZG93blwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2VtPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5neC1kcm9wZG93blwiICpuZ0lmPVwiISFjb2x1bW4uaGVhZGVyQWN0aW9uVGVtcGxhdGVcIiAjaGVhZGVyRHJvcGRvd24+XG4gICAgICAgIDxhIGNsYXNzPVwibmd4LWJ0biBuZ3gtYnRuLWxpbmtcIiAoY2xpY2spPVwic2hvd0hlYWRlckFjdGlvblRlbXBsYXRlTWVudShjb2x1bW4pXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1tb3JlXCI+PC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cIm5neC1tZW51IG5neC10YWJsZV9fdGFibGUtbWVudVwiXG4gICAgICAgICAgKm5nSWY9XCJjb2x1bW4ua2V5ID09PSBvcGVuZWRIZWFkZXJBY3Rpb25UZW1wbGF0ZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImNvbHVtbi5oZWFkZXJBY3Rpb25UZW1wbGF0ZVwiPiA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuZ3gtdGFibGVfX2NvbHVtbi1yZXNpemVyXCIgKm5nSWY9XCJjb25maWcucmVzaXplQ29sdW1uICYmICFsYXN0XCI+PC9kaXY+XG4gICAgPC90aD5cbiAgPC9uZy1jb250YWluZXI+XG4gIDx0aFxuICAgICpuZ0lmPVwiXG4gICAgICBjb25maWcuYWRkaXRpb25hbEFjdGlvbnMgfHxcbiAgICAgIGNvbmZpZy5kZXRhaWxzVGVtcGxhdGUgfHxcbiAgICAgIGNvbmZpZy5jb2xsYXBzZUFsbFJvd3MgfHxcbiAgICAgIGNvbmZpZy5ncm91cFJvd3NcbiAgICBcIlxuICAgIGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXItY2VsbC1hZGRpdGlvbmFsLWFjdGlvbnNcIlxuICA+XG4gICAgPGRpdiBjbGFzcz1cIm5neC1kcm9wZG93blwiICNhZGRpdGlvbmFsQWN0aW9uTWVudSAqbmdJZj1cImNvbmZpZy5hZGRpdGlvbmFsQWN0aW9uc1wiPlxuICAgICAgPGEgY2xhc3M9XCJuZ3gtYnRuIG5neC1idG4tbGlua1wiIChjbGljayk9XCJzaG93TWVudSgpXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibmd4LWljb24gbmd4LWljb24tbWVudVwiPjwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICAgIDx1bCBjbGFzcz1cIm5neC1tZW51IG5neC10YWJsZV9fdGFibGUtbWVudVwiICpuZ0lmPVwibWVudUFjdGl2ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgKm5nSWY9XCJhZGRpdGlvbmFsQWN0aW9uc1RlbXBsYXRlXCJcbiAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJhZGRpdGlvbmFsQWN0aW9uc1RlbXBsYXRlXCJcbiAgICAgICAgPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIDwvdGg+XG48L3RyPlxuPHRyXG4gIFtzdHlsZS5kaXNwbGF5XT1cImNvbmZpZy5zZWFyY2hFbmFibGVkICYmICFmaWx0ZXJzVGVtcGxhdGUgPyAndGFibGUtcm93JyA6ICdub25lJ1wiXG4gIGNsYXNzPVwibmd4LXRhYmxlX19zZWFyY2gtaGVhZGVyXCJcbj5cbiAgPHRoICpuZ0lmPVwiY29uZmlnLmNoZWNrYm94ZXMgfHwgY29uZmlnLnJhZGlvXCI+PC90aD5cbiAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnM7IGxldCBjb2xJbmRleCA9IGluZGV4XCI+XG4gICAgPHRoXG4gICAgICBbbmdDbGFzc109XCJjb2x1bW4uY3NzQ2xhc3MgJiYgY29sdW1uLmNzc0NsYXNzLmluY2x1ZGVIZWFkZXIgPyBjb2x1bW4uY3NzQ2xhc3MubmFtZSA6ICcnXCJcbiAgICAgIFtjbGFzcy5waW5uZWQtbGVmdF09XCJjb2x1bW4ucGlubmVkXCJcbiAgICAgIFtzdHlsZS5sZWZ0XT1cInN0eWxlU2VydmljZS5waW5uZWRXaWR0aChjb2x1bW4ucGlubmVkLCBjb2xJbmRleClcIlxuICAgID5cbiAgICAgIDx0YWJsZS1oZWFkZXJcbiAgICAgICAgKm5nSWY9XCJnZXRDb2x1bW5EZWZpbml0aW9uKGNvbHVtbilcIlxuICAgICAgICAodXBkYXRlKT1cIm9uU2VhcmNoKCRldmVudClcIlxuICAgICAgICBbY29sdW1uXT1cImNvbHVtblwiXG4gICAgICA+XG4gICAgICA8L3RhYmxlLWhlYWRlcj5cbiAgICA8L3RoPlxuICA8L25nLWNvbnRhaW5lcj5cbiAgPHRoICpuZ0lmPVwiY29uZmlnLmFkZGl0aW9uYWxBY3Rpb25zIHx8IGNvbmZpZy5kZXRhaWxzVGVtcGxhdGVcIj48L3RoPlxuPC90cj5cbjxuZy1jb250YWluZXIgKm5nSWY9XCJmaWx0ZXJzVGVtcGxhdGVcIj5cbiAgPHRyPlxuICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwiZmlsdGVyc1RlbXBsYXRlXCI+IDwvbmctY29udGFpbmVyPlxuICA8L3RyPlxuPC9uZy1jb250YWluZXI+XG4iXX0=