import{a as W}from"./chunk-KNPY6DOX.js";import"./chunk-EIEFFRCX.js";import"./chunk-TFGPENSM.js";import"./chunk-DUBUW4ZU.js";import{a as C}from"./chunk-2FZO45KB.js";import{a as ee}from"./chunk-CYKCQD5B.js";import{A as J,U as K,c as O,d as g,e as G,f as Q,k as Z,n as B,p as $,y as H}from"./chunk-GR2TZYVC.js";import"./chunk-LOSEKLOO.js";import{Ab as T,Cb as t,Ja as r,Ka as h,Kb as L,Kc as U,Lc as j,Nb as w,Oc as z,Pa as P,Xa as b,Ya as f,Za as u,cb as _,db as v,ec as D,ga as V,gc as N,ib as e,jb as i,kb as s,ob as R,pa as E,qa as S,rb as q,sb as k,tc as I,xa as F,yb as M,zb as A}from"./chunk-CB3CSPGG.js";import"./chunk-BRV2THHE.js";import{f as Y}from"./chunk-WT5K5NLM.js";var X=Y(ee());var ie=["inputRef"],x=(a,l)=>({"text-success":a,"text-danger":l});function te(a,l){a&1&&(e(0,"div",18),t(1,"username required"),i())}function re(a,l){a&1&&(e(0,"div",18),t(1,"Email required"),i())}function ne(a,l){a&1&&(e(0,"div",18),t(1,"Please enter a valid email address"),i())}function ae(a,l){if(a&1&&(e(0,"div",24)(1,"div",33),s(2,"i"),t(3," Must be at least 8 characters long "),i(),e(4,"div",33),s(5,"i"),t(6," Must contain at least 1 digit "),i(),e(7,"div",33),s(8,"i"),t(9," Must contain at least 1 uppercase character "),i(),e(10,"div",33),s(11,"i"),t(12," Must contain at least 1 lowercase character "),i(),e(13,"div",33),s(14,"i"),t(15," Must contain at least 1 special character "),i()()),a&2){let o=k();r(),u("ngClass",w(10,x,o.minLengthValid,!o.minLengthValid)),r(),f("class",o.minLengthValid?"bi-check-square-fill":"bi-x-square"),r(2),u("ngClass",w(13,x,o.requiresDigitValid,!o.requiresDigitValid)),r(),f("class",o.requiresDigitValid?"bi-check-square-fill":"bi-x-square"),r(2),u("ngClass",w(16,x,o.requiresUppercaseValid,!o.requiresUppercaseValid)),r(),f("class",o.requiresUppercaseValid?"bi-check-square-fill":"bi-x-square"),r(2),u("ngClass",w(19,x,o.requiresLowercaseValid,!o.requiresLowercaseValid)),r(),f("class",o.requiresLowercaseValid?"bi-check-square-fill":"bi-x-square"),r(2),u("ngClass",w(22,x,o.requiresSpecialCharsValid,!o.requiresSpecialCharsValid)),r(),f("class",o.requiresSpecialCharsValid?"bi-check-square-fill":"bi-x-square")}}function oe(a,l){a&1&&(e(0,"div",18),t(1,"Password Didn't match"),i())}var ve=(()=>{let l=class l{constructor(m,c,n,d,p,y){this.document=m,this.elementRef=c,this.authService=n,this.renderer=d,this.formBuilder=p,this.router=y,this.confirmPasswordError=!1,this.showPassword=!1,this.showPassword1=!1,this.toggleClass="off-line",this.toggleClass1="off-line",this.signupForm=this.formBuilder.group({username:["",g.required],email:["",[g.required,g.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],password:["",[g.required,g.compose([g.required,g.minLength(8),C.patternValidator(new RegExp("(?=.*[0-9])"),{requiresDigit:!0}),C.patternValidator(new RegExp("(?=.*[A-Z])"),{requiresUppercase:!0}),C.patternValidator(new RegExp("(?=.*[a-z])"),{requiresLowercase:!0}),C.patternValidator(new RegExp("(?=.*[$@^!%*?&])"),{requiresSpecialChars:!0})])]],conformpassword:["",g.required]})}ngOnInit(){this.renderer.addClass(this.document.body,"login-img"),this.renderer.addClass(this.document.body,"ltr"),this.renderer.addClass(this.document.body,"app-sidebar-mini")}ngOnDestroy(){this.renderer.removeClass(this.document.body,"login-img"),this.renderer.removeClass(this.document.body,"ltr")}ngAfterViewInit(){this.inputRef.nativeElement.setAttribute("autocomplete","off")}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}toggleVisibility1(){this.showPassword1=!this.showPassword1,this.toggleClass1==="off-line"?this.toggleClass1="line":this.toggleClass1="off-line"}get f(){return this.signupForm.controls}get passwordValid(){return this.signupForm.controls.password.errors===null}get requiredValid(){return!this.signupForm.controls.password.hasError("required")}get minLengthValid(){return!this.signupForm.controls.password.hasError("minlength")}get requiresDigitValid(){return!this.signupForm.controls.password.hasError("requiresDigit")}get requiresUppercaseValid(){return!this.signupForm.controls.password.hasError("requiresUppercase")}get requiresLowercaseValid(){return!this.signupForm.controls.password.hasError("requiresLowercase")}get requiresSpecialCharsValid(){return!this.signupForm.controls.password.hasError("requiresSpecialChars")}checkConfirmPassword(){this.signupForm.value.conformpassword===this.signupForm.value.password?this.confirmPasswordError=!1:this.confirmPasswordError=!0}onSubmit(){this.checkConfirmPassword(),!(this.signupForm.invalid||this.confirmPasswordError)&&this.authService.register(this.signupForm.value).subscribe({next:m=>{console.log(m),this.emailActivationToken=m.emailActivationToken,this.authService.emailActivationToken=m.emailActivationToken,this.router.navigate(["/authentication/email-activation/"+this.emailActivationToken])},error:m=>{console.log(m),m&&X.default.fire({icon:"error",title:"oops!",text:m.error.message,width:"400px"})}})}};l.\u0275fac=function(c){return new(c||l)(h(D),h(F),h(K),h(P),h(H),h(U))},l.\u0275cmp=V({type:l,selectors:[["app-register"]],viewQuery:function(c,n){if(c&1&&M(ie,5),c&2){let d;A(d=T())&&(n.inputRef=d.first)}},standalone:!0,features:[L],decls:68,vars:15,consts:[["inputRef",""],[1,""],[1,"text-center"],["src","./assets/images/brand/insightappstext.png","alt","",1,"header-brand-img","m-0"],[1,"container-lg"],[1,"row","mt-4","justify-content-center","mx-0"],[1,"col-xl-4","col-lg-6"],[1,"card","shadow-none"],[1,"card-body","p-sm-6"],[1,"text-center","mb-4"],[1,"mb-1"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-12"],[1,"mb-3"],[1,"mb-2","fw-500"],[1,"text-danger","ms-1"],["type","text","formControlName","username","placeholder","Enter User Name",1,"form-control","ms-0"],[1,"text-danger"],["type","email","formControlName","email","autocomplete","off","placeholder","Enter your Email",1,"form-control","ms-0"],[1,"input-group","has-validation"],["type","password","placeholder","Create a Password","formControlName","password","id","signup-password","autocomplete","off",1,"form-control","ms-0","border-end-0",3,"type"],["type","button","id","button-addon2",1,"btn","btn-light",3,"click"],[1,"invalid-feedback",2,"display","block !important"],["id","validation-rules",1,"mt-3"],["type","password","placeholder","Confirm your Password","formControlName","conformpassword","id","signup-confirmpassword","autocomplete","off",1,"form-control","ms-0","border-end-0",3,"type"],["type","button","id","button-addon21",1,"btn","btn-light",3,"click"],[1,"col-xl-12"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-0","tx-14"],["routerLink","/authentication/login",1,"tx-primary","ms-1","text-decoration-underline"],[1,"col-xl-9","d-none"],[1,"pwd_character",3,"ngClass"]],template:function(c,n){if(c&1){let d=R();e(0,"div",1)(1,"div",2)(2,"a"),s(3,"img",3),i()()(),e(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),t(11,"Sign Up"),i(),e(12,"p"),t(13,"Sign up to your account to continue."),i()(),e(14,"form",11),q("ngSubmit",function(){return E(d),S(n.onSubmit())}),e(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),t(19,"User Name"),e(20,"span",16),t(21,"*"),i()(),s(22,"input",17),b(23,te,2,0,"div",18),i()(),e(24,"div",13)(25,"div",14)(26,"label",15),t(27,"Email"),e(28,"span",16),t(29,"*"),i()(),s(30,"input",19,0),b(32,re,2,0,"div",18)(33,ne,2,0,"div",18),i()(),e(34,"div",13)(35,"div",14)(36,"label",15),t(37,"Create a Password"),e(38,"span",16),t(39,"*"),i()(),e(40,"div",20),s(41,"input",21,0),e(43,"button",22),q("click",function(){return E(d),S(n.toggleVisibility())}),s(44,"i"),i(),e(45,"div",23),b(46,ae,16,25,"div",24),i()()()(),e(47,"div",13)(48,"div",14)(49,"label",15),t(50,"Confirm Password"),e(51,"span",16),t(52,"*"),i()(),e(53,"div",20),s(54,"input",25),e(55,"button",26),q("click",function(){return E(d),S(n.toggleVisibility1())}),s(56,"i"),i()(),b(57,oe,2,0,"div",18),i()(),e(58,"div",27)(59,"div",28)(60,"button",29),t(61," Create an Account"),i()(),e(62,"div",2)(63,"p",30),t(64,"Already have an account ? "),e(65,"a",31),t(66,"Login"),i()()()()()()()()(),s(67,"div",32),i()()}if(c&2){let d,p,y;r(14),u("formGroup",n.signupForm),r(9),v(23,(d=n.signupForm.get("username"))!=null&&d.errors&&((d=n.signupForm.get("username"))!=null&&d.touched)?23:-1),r(9),v(32,(p=n.signupForm.get("email"))!=null&&p.hasError("required")&&((p=n.signupForm.get("email"))!=null&&p.touched)?32:-1),r(),v(33,(y=n.signupForm.get("email"))!=null&&y.hasError("pattern")?33:-1),r(8),u("type",n.showPassword?"text":"password"),r(3),_("ri-eye-",n.toggleClass," align-middle"),r(2),v(46,n.requiredValid?46:-1),r(8),u("type",n.showPassword1?"text":"password"),r(2),_("ri-eye-",n.toggleClass1," align-middle"),r(),v(57,n.confirmPasswordError?57:-1),r(3),u("disabled",!n.signupForm.valid)}},dependencies:[z,j,J,Z,O,G,Q,B,$,W,I,N],styles:[".pwd_character[_ngcontent-%COMP%]{font-size:12px;margin:10px 0}.bi-x-square[_ngcontent-%COMP%], .bi-check-square-fill[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}"]});let a=l;return a})();export{ve as RegisterComponent};
