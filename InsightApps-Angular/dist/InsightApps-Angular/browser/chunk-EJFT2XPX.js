import{a as De}from"./chunk-R6W6WWMA.js";import{a as Ee,b as ye,c as Ve}from"./chunk-G765BPDB.js";import{a as ke}from"./chunk-4XM7W5XW.js";import{B as Se,C as Ue}from"./chunk-G7HRDCEB.js";import"./chunk-UXQNOFNS.js";import{i as ge,j as fe,k as ve,l as xe,u as Ce,v as we}from"./chunk-O3MZADX2.js";import"./chunk-3CUW3WNJ.js";import{a as k}from"./chunk-2FZO45KB.js";import{a as Fe}from"./chunk-CYKCQD5B.js";import{A as be,b as te,c as ie,d as S,e as ne,f as re,j as ae,k as oe,n as se,o as le,p as de,q as ce,r as me,t as pe,v as ue,x as T,y as _e,z as he}from"./chunk-GR2TZYVC.js";import"./chunk-LOSEKLOO.js";import{Ab as W,Cb as a,Db as C,Eb as I,Gb as P,Hb as A,Ib as N,Ja as o,Ka as V,Kb as $,Kc as ee,Nb as w,Ob as M,Qb as y,Rb as R,Sb as B,Tb as z,Ub as G,Xa as b,Ya as x,Za as c,cb as D,db as f,ga as O,gc as Q,hc as Z,ib as e,ic as Y,jb as t,kb as p,ob as v,pa as _,pc as J,qa as h,rb as g,sb as u,sc as K,tc as X,vb as L,yb as j,zb as H}from"./chunk-CB3CSPGG.js";import"./chunk-BRV2THHE.js";import{a as F,b as q,f as Te}from"./chunk-WT5K5NLM.js";var U=Te(Fe());var qe=["Adduser"],Ie=(n,l,i)=>({itemsPerPage:n,currentPage:l,totalItems:i}),E=(n,l)=>({"text-success":n,"text-danger":l});function Le(n,l){n&1&&(e(0,"button",29),p(1,"i",30),t())}function Pe(n,l){if(n&1){let i=v();e(0,"button",31),g("click",function(){_(i);let r=u(2);return h(r.gridView=!1)}),p(1,"i",32),t()}}function Ae(n,l){if(n&1){let i=v();e(0,"button",33),g("click",function(){_(i);let r=u(2);return h(r.gridView=!0)}),p(1,"i",30),t()}}function Ne(n,l){n&1&&(e(0,"button",34),p(1,"i",32),t())}function Me(n,l){n&1&&(e(0,"td"),a(1,"Active"),t())}function Re(n,l){n&1&&(e(0,"td"),a(1,"In-Active"),t())}function Be(n,l){if(n&1){let i=v();e(0,"tbody")(1,"tr")(2,"td"),a(3),t(),e(4,"td"),a(5),t(),e(6,"td"),a(7),t(),b(8,Me,2,0,"td",38)(9,Re,2,0,"td",38),e(10,"td"),a(11),t(),e(12,"td"),a(13),t(),e(14,"td"),a(15),y(16,"date"),t(),e(17,"td"),a(18),y(19,"date"),t(),e(20,"td")(21,"div",39)(22,"app-insights-button",40),g("btnClickEvent",function(){let r=_(i).$implicit,d=u(3);return h(d.getUserIdDetails(r.user_id))}),t(),e(23,"app-insights-button",40),g("btnClickEvent",function(){let r=_(i).$implicit,d=u(3);return h(d.deleteUser(r.user_id))}),t()()()()()}if(n&2){let i=l.$implicit;o(3),C(i.name),o(2),C(i.username),o(2),C(i.email),o(),c("ngIf",i.is_active===!0),o(),c("ngIf",i.is_active===!1),o(2),C(i.role),o(2),C(i.created_by),o(2),C(R(16,21,i.created_at)),o(3),C(R(19,23,i.updated_at)),o(4),c("classesList","btn btn-icon btn-sm btn-info-light btn-wave waves-effect waves-light")("previledgeId",61)("isBtn",!1)("toolTip","Edit")("faIconList","ri-edit-line")("isIcon",!0),o(),c("classesList","btn btn-icon btn-sm btn-danger-light btn-wave waves-effect waves-light")("previledgeId",63)("isBtn",!1)("toolTip"," Delete")("faIconList","ri-delete-bin-7-line")("isIcon",!0)}}function Oe(n,l){if(n&1&&(e(0,"div",21)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th"),a(5,"Name"),t(),e(6,"th"),a(7,"User Name"),t(),e(8,"th"),a(9,"Email Id"),t(),e(10,"th"),a(11,"Active Status"),t(),e(12,"th"),a(13,"Role"),t(),e(14,"th"),a(15,"Created"),t(),e(16,"th"),a(17,"Created On"),t(),e(18,"th"),a(19,"Last Modified"),t(),e(20,"th"),a(21,"Actions"),t()()(),b(22,Be,24,25,"tbody",37),y(23,"paginate"),t()()),n&2){let i=u(2);o(22),c("ngForOf",B(23,1,i.savedUsersList,M(4,Ie,i.itemsPerPage,i.page,i.totalItems)))}}function je(n,l){if(n&1){let i=v();e(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",22)(4,"div",45)(5,"div",46)(6,"div",47)(7,"div",48)(8,"div",49)(9,"h6",50)(10,"a",51),a(11),y(12,"slice"),t()()()()(),e(13,"div",52)(14,"div",53)(15,"a",54),p(16,"i",55),t(),e(17,"div",56)(18,"app-insights-button",57),g("btnClickEvent",function(){let r=_(i).$implicit,d=u(3);return h(d.getUserIdDetails(r.user_id))}),t(),e(19,"app-insights-button",57),g("btnClickEvent",function(){let r=_(i).$implicit,d=u(3);return h(d.deleteUser(r.user_id))}),t()()()()()(),e(20,"div",58)(21,"div",59)(22,"div",22)(23,"div",60)(24,"span",61),a(25,"Created by "),t()(),e(26,"div",60)(27,"span",62),a(28),t()()(),e(29,"div",22)(30,"div",60)(31,"span",61),a(32,"Created on :"),t()(),e(33,"div",60)(34,"span",62),a(35),t()()(),e(36,"div",22)(37,"div",60)(38,"span",61),a(39,"Last Modified : "),t()(),e(40,"div",60)(41,"span",62),a(42),t()()()()()()()()()}if(n&2){let i=l.$implicit;o(10),L("ngbTooltip",i.username),o(),I(" ",z(12,19,i.username,0,15),""),o(7),c("classesList","dropdown-item")("previledgeId",61)("isBtn",!1)("buttonName"," Edit")("tabIndex",0)("faIconList","fe fe-edit me-2 d-inline-flex")("isIcon",!0),o(),c("classesList","dropdown-item  btn btn-secondary-light")("previledgeId",63)("isBtn",!1)("buttonName"," Delete")("tabIndex",0)("faIconList","fe fe-trash me-2 d-inline-flex")("isIcon",!0),o(9),C(i.created_by),o(7),C(i.created_at),o(7),C(i.updated_at)}}function He(n,l){if(n&1&&(e(0,"div",22),b(1,je,43,23,"div",41),y(2,"paginate"),t()),n&2){let i=u(2);o(),c("ngForOf",B(2,1,i.savedUsersList,M(4,Ie,i.itemsPerPage,i.page,i.totalItems)))}}function We(n,l){if(n&1){let i=v();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),a(6,"Users"),t()(),e(7,"div",9),b(8,Le,2,0,"button",10)(9,Pe,2,0,"button",11)(10,Ae,2,0,"button",12)(11,Ne,2,0,"button",13),e(12,"div",14)(13,"input",15),N("ngModelChange",function(r){_(i);let d=u();return A(d.userName,r)||(d.userName=r),h(r)}),g("keyup.enter",function(){_(i);let r=u();return h(r.searchUserList())}),t(),e(14,"button",16),g("click",function(){_(i);let r=u();return h(r.searchUserList())}),p(15,"i",17),t(),e(16,"button",18),g("click",function(){_(i);let r=u();return h(r.addUserDiv())}),p(17,"i",19),a(18," Add User"),t()()()(),e(19,"div",20),b(20,Oe,24,8,"div",21)(21,He,3,8,"div",22),e(22,"pagination-controls",23),g("pageChange",function(r){_(i);let d=u();return h(d.pageChangegetUserList(d.page=r))}),t(),e(23,"div",24)(24,"select",25),N("ngModelChange",function(r){_(i);let d=u();return A(d.itemsPerPage,r)||(d.itemsPerPage=r),h(r)}),g("ngModelChange",function(){_(i);let r=u();return h(r.getUserList())}),e(25,"option",26),a(26," 10"),t(),e(27,"option",27),a(28," 20"),t(),e(29,"option",28),a(30," 30"),t()()()()()()()}if(n&2){let i=u();o(8),c("ngIf",i.gridView),o(),c("ngIf",i.gridView),o(),c("ngIf",!i.gridView),o(),c("ngIf",!i.gridView),o(2),P("ngModel",i.userName),o(7),f(20,i.gridView?-1:20),o(),f(21,i.gridView?21:-1),o(3),P("ngModel",i.itemsPerPage),o(3),c("disabled",!(i.totalItems>10)),o(2),c("disabled",!(i.totalItems>20))}}function $e(n,l){n&1&&(e(0,"h1",91),a(1,"Add User"),t())}function ze(n,l){n&1&&(e(0,"h1",91),a(1,"Edit User"),t())}function Ge(n,l){n&1&&(e(0,"div",74),a(1,"firstname required"),t())}function Qe(n,l){n&1&&(e(0,"label",71),a(1,"Write the user first name or names"),t())}function Ze(n,l){n&1&&(e(0,"div",74),a(1,"lastname required"),t())}function Ye(n,l){n&1&&(e(0,"label",71),a(1,"Write the user last name "),t())}function Je(n,l){n&1&&(e(0,"div",74),a(1,"username required"),t())}function Ke(n,l){n&1&&(e(0,"label",71),a(1,"User name valid for authentication on DB or LDAP, unused for OID auth "),t())}function Xe(n,l){n&1&&(e(0,"div",74),a(1,"Email required"),t())}function et(n,l){n&1&&(e(0,"label",71),a(1,"The user's email, this will also be used for OID auth "),t())}function tt(n,l){if(n&1&&(e(0,"option",80),a(1),t()),n&2){let i=l.$implicit;L("value",i),o(),I(" ",i," ")}}function it(n,l){if(n&1&&(e(0,"div",84)(1,"div",92)(2,"div",93),p(3,"i"),a(4," Must be at least 8 characters long "),t(),e(5,"div",93),p(6,"i"),a(7," Must contain at least 1 digit "),t(),e(8,"div",93),p(9,"i"),a(10," Must contain at least 1 uppercase character "),t(),e(11,"div",93),p(12,"i"),a(13," Must contain at least 1 lowercase character "),t(),e(14,"div",93),p(15,"i"),a(16," Must contain at least 1 special character "),t()()()),n&2){let i=u(2);o(2),c("ngClass",w(10,E,i.minLengthValid,!i.minLengthValid)),o(),x("class",i.minLengthValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(13,E,i.requiresDigitValid,!i.requiresDigitValid)),o(),x("class",i.requiresDigitValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(16,E,i.requiresUppercaseValid,!i.requiresUppercaseValid)),o(),x("class",i.requiresUppercaseValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(19,E,i.requiresLowercaseValid,!i.requiresLowercaseValid)),o(),x("class",i.requiresLowercaseValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(22,E,i.requiresSpecialCharsValid,!i.requiresSpecialCharsValid)),o(),x("class",i.requiresSpecialCharsValid?"bi-check-square-fill":"bi-x-square")}}function nt(n,l){n&1&&(e(0,"label",71),a(1,"The user's password for authentication "),t())}function rt(n,l){n&1&&(e(0,"div",74),a(1,"Password Didn't match"),t())}function at(n,l){n&1&&(e(0,"label",71),a(1,"Please rewrite the user's password to Confirm "),t())}function ot(n,l){if(n&1){let i=v();e(0,"div",63)(1,"form",64)(2,"div",65),b(3,$e,2,0,"h1",66)(4,ze,2,0,"h1",66),e(5,"button",67),g("click",function(){let r=_(i).$implicit;return h(r.close("cross click"))}),t()(),e(6,"div",68)(7,"div",69)(8,"div",70)(9,"label",71),a(10,"First Name"),t()(),e(11,"div",72),p(12,"input",73),b(13,Ge,2,0,"div",74)(14,Qe,2,0),t(),e(15,"div",70)(16,"label",71),a(17,"Last Name"),t()(),e(18,"div",72),p(19,"input",75),b(20,Ze,2,0,"div",74)(21,Ye,2,0),t(),e(22,"div",70)(23,"label",71),a(24,"User Name"),t()(),e(25,"div",72),p(26,"input",76),b(27,Je,2,0,"div",74)(28,Ke,2,0),t(),e(29,"div",70)(30,"label",71),a(31,"Is Active?"),t()(),e(32,"div",72),p(33,"input",77),e(34,"label",71),a(35,"It's not a good policy to remove a user, just make it inactive "),t()(),e(36,"div",70)(37,"label",71),a(38,"Email"),t()(),e(39,"div",72),p(40,"input",78),b(41,Xe,2,0,"div",74)(42,et,2,0),t(),e(43,"div",70)(44,"label",71),a(45,"Select Role"),t()(),e(46,"div",72)(47,"select",79)(48,"option",80),a(49,"-- Select Role--"),t(),b(50,tt,2,2,"option",81),t(),e(51,"label",71),a(52,"The user role on the application, this will associate with a list of Permission "),t()(),e(53,"div",70)(54,"label",71),a(55,"Password"),t()(),e(56,"div",72),p(57,"input",82),e(58,"button",83),g("click",function(){_(i);let r=u();return h(r.toggleVisibility())}),p(59,"i"),t(),b(60,it,17,25,"div",84)(61,nt,2,0),t(),e(62,"div",70)(63,"label",71),a(64,"Confirm Password"),t()(),e(65,"div",72),p(66,"input",85),e(67,"button",86),g("click",function(){_(i);let r=u();return h(r.toggleVisibility1())}),p(68,"i"),t(),b(69,rt,2,0,"div",74)(70,at,2,0),t()(),e(71,"div",87)(72,"div",88)(73,"button",89),g("click",function(){_(i);let r=u();return h(r.addUser())}),a(74," Save "),p(75,"i",90),t()()()()()()}if(n&2){let i,s,r,d,m=u();o(),c("formGroup",m.addUserForm),o(2),c("ngIf",!m.userEditHidePassword),o(),c("ngIf",m.userEditHidePassword),o(9),f(13,(i=m.addUserForm.get("firstname"))!=null&&i.errors&&((i=m.addUserForm.get("firstname"))!=null&&i.touched)?13:14),o(7),f(20,(s=m.addUserForm.get("lastname"))!=null&&s.errors&&((s=m.addUserForm.get("lastname"))!=null&&s.touched)?20:21),o(7),f(27,(r=m.addUserForm.get("username"))!=null&&r.errors&&((r=m.addUserForm.get("username"))!=null&&r.touched)?27:28),o(6),c("checked",!0),o(8),f(41,(d=m.addUserForm.get("email"))!=null&&d.errors&&((d=m.addUserForm.get("email"))!=null&&d.touched)?41:42),o(7),c("value",null),o(2),c("ngForOf",m.userAddedRolesList),o(7),c("type",m.showPassword?"text":"password"),o(2),D("ri-eye-",m.toggleClass," align-middle"),o(),f(60,m.requiredValid?60:61),o(6),c("type",m.showPassword1?"text":"password"),o(2),D("ri-eye-",m.toggleClass1," align-middle"),o(),f(69,m.confirmPasswordError?69:70),o(4),c("disabled",!m.addUserForm.valid)}}function st(n,l){n&1&&(e(0,"h1",91),a(1,"Add User"),t())}function lt(n,l){n&1&&(e(0,"h1",91),a(1,"Edit User"),t())}function dt(n,l){n&1&&(e(0,"div",74),a(1,"firstname required"),t())}function ct(n,l){n&1&&(e(0,"label",71),a(1,"Write the user first name or names"),t())}function mt(n,l){n&1&&(e(0,"div",74),a(1,"lastname required"),t())}function pt(n,l){n&1&&(e(0,"label",71),a(1,"Write the user last name "),t())}function ut(n,l){n&1&&(e(0,"div",74),a(1,"username required"),t())}function _t(n,l){n&1&&(e(0,"label",71),a(1,"User name valid for authentication on DB or LDAP, unused for OID auth "),t())}function ht(n,l){n&1&&(e(0,"div",74),a(1,"Email required"),t())}function bt(n,l){n&1&&(e(0,"label",71),a(1,"The user's email, this will also be used for OID auth "),t())}function gt(n,l){if(n&1){let i=v();e(0,"div")(1,"label")(2,"input",103),g("change",function(){_(i);let r=u(3);return h(r.onCheckboxChange())}),t(),a(3),t()()}if(n&2){let i=l.$implicit,s=l.index;o(2),c("formControlName",s),o(),I(" ",i," ")}}function ft(n,l){if(n&1){let i=v();e(0,"div",72)(1,"div",70)(2,"label",71),a(3,"Select Role"),t()(),e(4,"input",100),g("change",function(){_(i);let r=u(2);return h(r.toggleSelectAll())}),t(),e(5,"label",101),a(6,"Select all roles"),t(),e(7,"div",72)(8,"div",102),b(9,gt,4,2,"div",37),t(),e(10,"label",71),a(11," The user role on the application, this will associate with a list of Permission "),t()()()}if(n&2){let i=u(2);o(9),c("ngForOf",i.userAddedRolesList)}}function vt(n,l){if(n&1){let i=v();e(0,"div"),a(1," No Roles Available To Assaign Please"),e(2,"a",104),g("click",function(){_(i);let r=u(2);return h(r.gotoAddRole())}),a(3," Add One"),t()()}}function xt(n,l){if(n&1&&(e(0,"div",84)(1,"div",92)(2,"div",93),p(3,"i"),a(4," Must be at least 8 characters long "),t(),e(5,"div",93),p(6,"i"),a(7," Must contain at least 1 digit "),t(),e(8,"div",93),p(9,"i"),a(10," Must contain at least 1 uppercase character "),t(),e(11,"div",93),p(12,"i"),a(13," Must contain at least 1 lowercase character "),t(),e(14,"div",93),p(15,"i"),a(16," Must contain at least 1 special character "),t()()()),n&2){let i=u(3);o(2),c("ngClass",w(10,E,i.minLengthValid,!i.minLengthValid)),o(),x("class",i.minLengthValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(13,E,i.requiresDigitValid,!i.requiresDigitValid)),o(),x("class",i.requiresDigitValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(16,E,i.requiresUppercaseValid,!i.requiresUppercaseValid)),o(),x("class",i.requiresUppercaseValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(19,E,i.requiresLowercaseValid,!i.requiresLowercaseValid)),o(),x("class",i.requiresLowercaseValid?"bi-check-square-fill":"bi-x-square"),o(2),c("ngClass",w(22,E,i.requiresSpecialCharsValid,!i.requiresSpecialCharsValid)),o(),x("class",i.requiresSpecialCharsValid?"bi-check-square-fill":"bi-x-square")}}function Ct(n,l){n&1&&(e(0,"label",71),a(1,"The user's password for authentication "),t())}function wt(n,l){n&1&&(e(0,"div",74),a(1,"Password Didn't match"),t())}function St(n,l){n&1&&(e(0,"label",71),a(1,"Please rewrite the user's password to Confirm "),t())}function Ut(n,l){if(n&1){let i=v();e(0,"div",22)(1,"div",70)(2,"label",71),a(3,"Password"),t()(),e(4,"div",72),p(5,"input",82),e(6,"button",83),g("click",function(){_(i);let r=u(2);return h(r.toggleVisibility())}),p(7,"i"),t(),b(8,xt,17,25,"div",84)(9,Ct,2,0),t(),e(10,"div",70)(11,"label",71),a(12,"Confirm Password"),t()(),e(13,"div",72),p(14,"input",85),e(15,"button",86),g("click",function(){_(i);let r=u(2);return h(r.toggleVisibility1())}),p(16,"i"),t(),b(17,wt,2,0,"div",74)(18,St,2,0),t()()}if(n&2){let i=u(2);o(5),c("type",i.showPassword?"text":"password"),o(2),D("ri-eye-",i.toggleClass," align-middle"),o(),f(8,i.requiredValid?8:9),o(6),c("type",i.showPassword1?"text":"password"),o(2),D("ri-eye-",i.toggleClass1," align-middle"),o(),f(17,i.confirmPasswordError?17:18)}}function Et(n,l){if(n&1){let i=v();e(0,"button",89),g("click",function(){_(i);let r=u(2);return h(r.addUser())}),a(1," Save "),p(2,"i",90),t()}if(n&2){let i=u(2);c("disabled",!i.addUserForm.valid)}}function yt(n,l){if(n&1){let i=v();e(0,"button",18),g("click",function(){_(i);let r=u(2);return h(r.editUser())}),a(1," Update "),p(2,"i",90),t()}}function Vt(n,l){if(n&1){let i=v();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"form",64)(4,"div",65),b(5,st,2,0,"h1",66)(6,lt,2,0,"h1",66),t(),e(7,"div",68)(8,"div",69)(9,"div",70)(10,"label",71),a(11,"First Name"),t()(),e(12,"div",72),p(13,"input",73),b(14,dt,2,0,"div",74)(15,ct,2,0),t(),e(16,"div",70)(17,"label",71),a(18,"Last Name"),t()(),e(19,"div",72),p(20,"input",75),b(21,mt,2,0,"div",74)(22,pt,2,0),t(),e(23,"div",70)(24,"label",71),a(25,"User Name"),t()(),e(26,"div",72),p(27,"input",76),b(28,ut,2,0,"div",74)(29,_t,2,0),t(),e(30,"div",70)(31,"label",71),a(32,"Is Active?"),t()(),e(33,"div",72),p(34,"input",77),e(35,"label",71),a(36,"It's not a good policy to remove a user, just make it inactive "),t()(),e(37,"div",70)(38,"label",71),a(39,"Email"),t()(),e(40,"div",72),p(41,"input",78),b(42,ht,2,0,"div",74)(43,bt,2,0),t(),e(44,"div",70)(45,"label",71),a(46,"Select Role"),t()(),b(47,ft,12,1,"div",94)(48,vt,4,0,"div",38),e(49,"div",95),b(50,Ut,19,10,"div",96),t()(),e(51,"div",87)(52,"div",88)(53,"button",97),g("click",function(){_(i);let r=u();return h(r.closeAddUserForm())}),a(54,"Close"),t(),b(55,Et,3,1,"button",98)(56,yt,3,0,"button",99),t()()()()()()()}if(n&2){let i,s,r,d,m=u();o(3),c("formGroup",m.addUserForm),o(2),c("ngIf",!m.userEditHidePassword),o(),c("ngIf",m.userEditHidePassword),o(8),f(14,(i=m.addUserForm.get("firstname"))!=null&&i.errors&&((i=m.addUserForm.get("firstname"))!=null&&i.touched)?14:15),o(7),f(21,(s=m.addUserForm.get("lastname"))!=null&&s.errors&&((s=m.addUserForm.get("lastname"))!=null&&s.touched)?21:22),o(7),f(28,(r=m.addUserForm.get("username"))!=null&&r.errors&&((r=m.addUserForm.get("username"))!=null&&r.touched)?28:29),o(6),c("checked",!0),o(8),f(42,(d=m.addUserForm.get("email"))!=null&&d.errors&&((d=m.addUserForm.get("email"))!=null&&d.touched)?42:43),o(5),c("ngIf",m.userAddedRolesList.length),o(),c("ngIf",!m.userAddedRolesList.length),o(2),c("ngIf",!m.userEditHidePassword),o(5),c("ngIf",!m.userEditHidePassword),o(),c("ngIf",m.userEditHidePassword)}}var Ht=(()=>{let l=class l{constructor(s,r,d,m){this.modalService=s,this.workbechService=r,this.formBuilder=d,this.router=m,this.gridView=!0,this.userName="",this.pageNo=1,this.page=1,this.savedUsersList=[],this.userAddedRolesList=[],this.confirmPasswordError=!1,this.userEditHidePassword=!1,this.addUserDivForm=!1,this.allSelected=!1,this.showPassword=!1,this.showPassword1=!1,this.toggleClass="off-line",this.toggleClass1="off-line",this.addUserForm=this.formBuilder.group({username:["",S.required],firstname:["",S.required],lastname:["",S.required],role:this.formBuilder.array([]),is_active:[""],email:["",[S.required,S.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],password:["",[S.required,S.compose([S.required,S.minLength(8),k.patternValidator(new RegExp("(?=.*[0-9])"),{requiresDigit:!0}),k.patternValidator(new RegExp("(?=.*[A-Z])"),{requiresUppercase:!0}),k.patternValidator(new RegExp("(?=.*[a-z])"),{requiresLowercase:!0}),k.patternValidator(new RegExp("(?=.*[$@^!%*?&])"),{requiresSpecialChars:!0})])]],conformpassword:["",S.required]}),this.router.url.includes("/workbenchdashboard/user-add")&&this.addUserDiv(),this.router.url.includes("/workbenchdashboard/roles-list/dashboard")&&(this.addUserDivForm=!1)}ngOnInit(){this.getUserList()}get role(){return this.addUserForm.get("role")}get f(){return this.addUserForm.controls}get passwordValid(){return this.addUserForm.controls.password.errors===null}get requiredValid(){return!this.addUserForm.controls.password.hasError("required")}get minLengthValid(){return!this.addUserForm.controls.password.hasError("minlength")}get requiresDigitValid(){return!this.addUserForm.controls.password.hasError("requiresDigit")}get requiresUppercaseValid(){return!this.addUserForm.controls.password.hasError("requiresUppercase")}get requiresLowercaseValid(){return!this.addUserForm.controls.password.hasError("requiresLowercase")}get requiresSpecialCharsValid(){return!this.addUserForm.controls.password.hasError("requiresSpecialChars")}checkConfirmPassword(){this.addUserForm.value.conformpassword===this.addUserForm.value.password?this.confirmPasswordError=!1:this.confirmPasswordError=!0}toggleVisibility(){this.showPassword=!this.showPassword,this.toggleClass==="off-line"?this.toggleClass="line":this.toggleClass="off-line"}toggleVisibility1(){this.showPassword1=!this.showPassword1,this.toggleClass1==="off-line"?this.toggleClass1="line":this.toggleClass1="off-line"}searchUserList(){this.pageNo=1,this.getUserList()}pageChangegetUserList(s){this.pageNo=s,this.getUserList()}getUserList(){let s={search:this.searchUser,page_no:this.pageNo,page_count:this.itemsPerPage};(s.search===""||s.search===null)&&delete s.search,(s.page_count==null||s.page_count==null)&&delete s.page_count,this.workbechService.getUserList(s).subscribe({next:r=>{console.log(r),this.savedUsersList=r.sheets,this.itemsPerPage=r.items_per_page,this.totalItems=r.total_items},error:r=>{console.log(r),U.default.fire({icon:"error",title:"oops!",text:r.error.message,width:"400px"})}})}addUserDiv(){this.addUserDivForm=!0,this.addUserForm.reset(),this.getAddedRolesList(),this.userEditHidePassword=!1;let s=this.addUserForm.get("role");s&&s instanceof T&&s.clear()}closeAddUserForm(){this.addUserDivForm=!1}setRoles(){let s=this.addUserForm.get("role");s.clear(),this.userAddedRolesList.forEach(()=>{s.push(this.formBuilder.control(!1))}),s.valueChanges.subscribe(r=>{this.allSelected=r.every(d=>d===!0)})}toggleSelectAll(){let s=this.addUserForm.get("role"),r=!this.allSelected;s.controls.forEach((d,m)=>{d.setValue(r?this.userAddedRolesList[m]:!1)}),this.allSelected=r,this.getSelectedRoles()}onCheckboxChange(){let s=this.addUserForm.get("role");if(s&&s instanceof T){let r=s.controls.every(d=>d.value);this.allSelected=r}}getSelectedRoles(){let s=this.addUserForm.get("role"),r=this.userAddedRolesList.filter((d,m)=>s.at(m).value).map(d=>d);return console.log("Selected roles:",r),r}gotoAddRole(){this.router.navigate(["/workbench/dashboard/role-add"])}getAddedRolesList(){this.workbechService.getAddedRolesList().subscribe({next:s=>{console.log(s),this.userAddedRolesList=s,this.setRoles()},error:s=>{console.log(s),U.default.fire({icon:"error",title:"oops!",text:s.error.message,width:"400px"})}})}addUser(){let s=this.getSelectedRoles(),r=q(F({},this.addUserForm.value),{role:s});this.workbechService.addUserwithRoles(r).subscribe({next:d=>{console.log(d),this.addUserDivForm=!1,U.default.fire({icon:"success",title:"Done!",text:d.message,width:"400px"}),this.getUserList()},error:d=>{console.log(d),U.default.fire({icon:"error",title:"oops!",text:d.error.message,width:"400px"})}})}deleteUser(s){U.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.workbechService.deleteUser(s).subscribe({next:d=>{console.log(d),d&&U.default.fire({icon:"success",title:"Deleted!",text:"User Deleted Successfully",width:"400px"}),this.getUserList()},error:d=>{U.default.fire({icon:"warning",text:d.error.message,width:"300px"}),console.log(d)}})})}getUserIdDetails(s){this.userId=s,this.userEditHidePassword=!0,this.addUserDivForm=!0,this.workbechService.getUserIdDetails(s).subscribe({next:r=>{console.log(r),this.addUserForm.patchValue({firstname:r.firstname,lastname:r.lastname,username:r.username,email:r.email,is_active:r.is_active}),this.userAddedRolesList=r.role,this.setRoles(),this.patchRoles(r.role)},error:r=>{U.default.fire({icon:"warning",text:r.error.message,width:"300px"}),console.log(r)}})}patchRoles(s){let r=this.addUserForm.get("role");r&&r instanceof T&&(r.clear(),s.forEach(d=>{this.userAddedRolesList.includes(d)&&r.push(this.formBuilder.control(!0))}),this.allSelected=s.length===this.userAddedRolesList.length)}editUser(){let s=this.getSelectedRoles(),r=q(F({},this.addUserForm.value),{role:s});delete r.password,delete r.conformpassword,this.workbechService.editUser(this.userId,r).subscribe({next:d=>{console.log(d),this.addUserDivForm=!1,U.default.fire({icon:"success",title:"Done!",text:d.message,width:"400px"}),this.getUserList()},error:d=>{console.log(d),U.default.fire({icon:"error",title:"oops!",text:d.error.message,width:"400px"})}})}};l.\u0275fac=function(r){return new(r||l)(V(xe),V(ke),V(_e),V(ee))},l.\u0275cmp=O({type:l,selectors:[["app-users-dashboard"]],viewQuery:function(r,d){if(r&1&&j(qe,5),r&2){let m;H(m=W())&&(d.Adduser=m.first)}},standalone:!0,features:[$],decls:5,vars:2,consts:[["Adduser",""],["title","Users List","title1","home","activeitem","Users List"],["class","main-container container-fluid",4,"ngIf"],[1,"main-container","container-fluid"],[1,"card",2,"padding","20px"],[1,"col-sm-12","col-lg-12","col-xl-12",2,"padding","0px"],[1,"d-flex","justify-content-between","px-5"],[1,"connect-txt"],[1,"card-title","mt-2"],[1,"new-data-btn","d-flex","text-align-center"],["type","button","class","btn btn-icon btn-outline-primary me-1",4,"ngIf"],["type","button","class","btn btn-icon btn-primary-light me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-icon btn-primary-light me-1",3,"click",4,"ngIf"],["type","button","class","btn btn-icon btn-outline-primary me-3",4,"ngIf"],[1,"input-group"],["type","text","placeholder","Search","aria-describedby","button-addon2",1,"form-control","border-end-0",3,"ngModelChange","keyup.enter","ngModel"],["type","button","id","button-addon2",1,"btn","btn-primary","border","me-2",2,"border-radius","0px 4px 4px 0px",3,"click"],[1,"fe","fe-search"],["type","button",1,"btn","btn-primary",2,"border-radius","4px 4px 4px 4px",3,"click"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive",2,"height","26rem"],[1,"row"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[2,"float","right","font-size","15px","margin-top","-41px"],[1,"form-control",2,"cursor","pointer",3,"ngModelChange","ngModel"],["value","10"],["value","20",3,"disabled"],["value","30",3,"disabled"],["type","button",1,"btn","btn-icon","btn-outline-primary","me-1"],[1,"fa","fa-th-large"],["type","button",1,"btn","btn-icon","btn-primary-light","me-3",3,"click"],[1,"fa","fa-th-list"],["type","button",1,"btn","btn-icon","btn-primary-light","me-1",3,"click"],["type","button",1,"btn","btn-icon","btn-outline-primary","me-3"],[1,"table","border","text-nowrap","text-md-nowrap","mb-0"],[1,"table-primary",2,"position","sticky","top","-1px","background-color","#00a5a2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hstack","gap-2","fs-1"],[3,"btnClickEvent","classesList","previledgeId","isBtn","toolTip","faIconList","isIcon"],["class","col-md-12 col-xl-3",4,"ngFor","ngForOf"],[1,"col-md-12","col-xl-3"],[1,"card","shadow-none"],[1,"card-body","card-box-shadow"],[1,"col-md-12"],[1,"row","border-bottom"],[1,"col","mb-1"],[1,"d-sm-flex","align-items-center"],[1,"ms-2","mt-sm-0","mt-2"],[1,"mb-1"],[1,"float-start",3,"ngbTooltip"],[1,"col-auto"],["ngbDropdown","",1,"d-flex","justify-content-end","p-1"],["data-bs-toggle","dropdown","role","button","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,""],[1,"fe","fe-more-vertical","fs-18","text-body-secondary"],["ngbDropdownMenu","",1,"dropdown-menu"],[3,"btnClickEvent","classesList","previledgeId","isBtn","buttonName","tabIndex","faIconList","isIcon"],[1,"col-md-12","mt-2"],[1,"p-2"],[1,"col-md-6"],[1,"fw-semibold","fs-14"],[1,"fs-14"],[1,"modal-content","modal-large"],[3,"formGroup"],[1,"modal-header","justify-conent-between"],["class","modal-title fs-5","id","inputModalLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","p-1"],[1,"col-md-2","border","p-2"],["for","input-label",1,"form-label"],[1,"col-md-10","border","p-2"],["type","text","id","input-text","formControlName","firstname","placeholder","First Name",1,"form-control"],[1,"text-danger"],["type","text","id","input-text","formControlName","lastname","placeholder","Last Name",1,"form-control"],["type","text","id","input-text","formControlName","username","placeholder","User Name",1,"form-control"],["type","checkbox","id","exampleCheck1","formControlName","is_active",1,"form-check-input",3,"checked"],["type","text","id","input-text","placeholder","Email","formControlName","email",1,"form-control"],["name","type","formControlName","role","required","",1,"form-select","me-2"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","password","id","input-text","formControlName","password","placeholder","Password","autocomplete","off",1,"form-control",3,"type"],["type","button","id","button-addon2",1,"btn","btn-light",3,"click"],[1,"invalid-feedback",2,"display","block !important"],["type","password","id","input-text","placeholder","Confirm Password","formControlName","conformpassword","autocomplete","off",1,"form-control",3,"type"],["type","button","id","button-addon21",1,"btn","btn-light",3,"click"],[1,"justify-conent-between"],[1,"add-role-save-btn",2,"float","right"],["type","button",1,"btn","btn-primary",2,"border-radius","4px 4px 4px 4px",3,"click","disabled"],[1,"fa","fa-file-text-o"],["id","inputModalLabel",1,"modal-title","fs-5"],["id","validation-rules",1,"mt-3"],[1,"pwd_character",3,"ngClass"],["class","col-md-10 border p-2",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],["class","row",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-primary","style","border-radius: 4px 4px 4px 4px;",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary","style","border-radius: 4px 4px 4px 4px;",3,"click",4,"ngIf"],["type","checkbox","id","selectAll",3,"change"],["for","selectAll",1,"form-label"],["formArrayName","role"],["type","checkbox",3,"change","formControlName"],[2,"cursor","pointer","color","#05aff8",3,"click"]],template:function(r,d){r&1&&(p(0,"app-page-header",1),b(1,We,31,10,"div",2)(2,ot,76,21,"ng-template",null,0,G)(4,Vt,57,13,"div",2)),r&2&&(o(),c("ngIf",!d.addUserDivForm),o(3),c("ngIf",d.addUserDivForm))},dependencies:[Ue,Se,X,Q,Z,Y,K,J,he,oe,me,pe,ie,te,ce,ne,re,ue,ae,we,ve,fe,ge,Ce,Ve,Ee,ye,be,se,de,le,De],styles:[".modal-large[_ngcontent-%COMP%]{width:1200px!important;position:relative;right:310px;border-radius:30px}label.form-label[_ngcontent-%COMP%]{margin:0}.form-check-input[_ngcontent-%COMP%]{border-radius:.25em;border:1px solid #008482}.card-box-shadow[_ngcontent-%COMP%]{box-shadow:5px 10px 10px 5px #0000001a}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}a[_ngcontent-%COMP%]{cursor:pointer}"]});let n=l;return n})();export{Ht as UsersDashboardComponent};
